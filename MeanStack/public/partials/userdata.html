<div class="main">
    <nav class="navbar navbar-inverse navbar-fixed-top" role='navigation'>
        <div class='container'>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle='collapse' data-target='.navabar-ex-collapse'>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                </button>
                <a class='navbar-brand'>MeanStack Message</a>
            </div>
            <div class='collapse navbar-collapse navabar-ex-collapse'>
                <ul class="nav navbar-nav navbar-right">
                    <li class='active'><a ng-click="message.new()">New Message</a></li>
                    <li><a href='#'>All Messages</a></li>
                    <li><a href='#'>Delete Message</a></li>
                    <li><a href='#'>Update Message</a></li>
                    <li><a href='#'>Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="page-header">
        <h3>{{message.name}}'s Recent Messages</h3>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div ng-repeat="msg in message.messages">
                    <button data-target="#{{msg._id}}" class="btn btn-primary" data-toggle="collapse" aria-expanded="false" aria-controls="{{msg._id}}">{{msg.subject}}</button>
                    <div class="collapse" id="{{msg._id}}">
                        <div class="well">
                            <p>{{msg.timestamp}}</p>
                            <b>{{msg.text}}</b>
                        </div>
                    </div>
                                                            
                    <!--h4>{{msg.subject}}</h4>
                    <p>{{msg.text}}</p-->
                    <!--table class="table">
                        <thead></thead>
                        <tbody>
                            <tr ng-repeat="msg in message.messages" class="success">
                                <td>{{msg.subject}}</td>
                                <td>{{msg.text}}</td>
                            </tr> 
                        </tbody>
                    </table-->
                </div>
            <!--div id="list"></div-->
            </div>
            <div class="col-md-6">
                <!--h4 ng-show='message.data.length === 0'>There are no messages at the moment</h4-->
                <form role="form" ng-show="message.isVisible"> <!--style="display:none"-->
                    <div class="form-group">
                            <label for="topic">Topic</label>
                            <input type="text" id="topic" class="form-control" ng-model="message.subject">
                    </div>
                    <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" class="form-control" ng-model="message.text"></textarea>
                    </div>
                    <button type="button" class="btn btn-default" ng-click="message.send()">Send</button>
                </form>
            </div>
        </div>
    </div>
</div>